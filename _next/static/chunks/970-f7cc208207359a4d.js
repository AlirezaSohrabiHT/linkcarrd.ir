(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[970],{8970:function(e,t,o){"use strict";o.d(t,{default:function(){return x}});var l=o(7437),c=o(2265),n=o(8472);let s=()=>null!==localStorage.getItem("token");var r=o(6463),a=o(5734),i=o.n(a),x=e=>{let{onCardStatusChange:t,businessCard:o}=e,[a,x]=(0,c.useState)(o||null),[d,u]=(0,c.useState)(!1),p=(0,r.useRouter)(),m="http://127.0.0.1:8000";console.log(a),(0,c.useEffect)(()=>{u(!0),o||(s()?f():p.push("/login"))},[p,o]);let f=async()=>{let e=localStorage.getItem("token");try{let o=await n.Z.get("".concat(m,"/card/businesscards/"),{headers:{Authorization:"Token ".concat(e)}});if(o.data.length>0){let e=o.data[0];x(e),t(!0,e)}else t(!1)}catch(e){console.error("Error fetching business card:",e),t(!1)}};return d?(0,l.jsx)("div",{className:"flex items-center justify-center h-full w-full",children:a?(0,l.jsx)("div",{className:i().iphone_mockup,children:(0,l.jsx)("div",{className:i().screen,children:(0,l.jsxs)("section",{className:"w-full h-full flex flex-col justify-start items-center overflow-y-auto ".concat(i().cardContainer),style:{background:a.background_image?"url(".concat(m,"/").concat(a.background_image,")"):a.background_color,backgroundSize:"cover",backgroundPosition:"center",maxWidth:"500px"},children:[(0,l.jsxs)("div",{className:"container flex flex-col justify-start items-center relative",children:[a.business_icon?(0,l.jsx)("img",{className:i().img_logo_card,src:"".concat(m,"/").concat(a.business_icon),alt:"Business Icon"}):(0,l.jsx)("img",{className:i().img_logo_card,src:"/image/mohsen's logo.png",alt:"Logo"}),(0,l.jsx)("p",{className:"text-white mt-3 font-bold ".concat(i().title_card),style:{color:a.text_color},children:a.name||"نام"}),(0,l.jsx)("p",{className:"text-white mt-1",style:{color:a.text_color},children:a.description||"توضیحات"}),a.phone_number&&(0,l.jsxs)("p",{className:"text-white mt-1",style:{color:a.text_color},children:["Phone: ",a.phone_number]}),a.phone_number_2&&(0,l.jsxs)("p",{className:"text-white mt-1",style:{color:a.text_color},children:["Phone 2: ",a.phone_number_2]})]}),(0,l.jsx)("div",{className:"mt-10 w-full flex flex-row items-center text-white",children:(0,l.jsxs)("div",{className:"w-full flex-col flex items-center justify-center overflow-hidden",style:{padding:"0px 16px"},children:[(0,l.jsxs)("div",{className:"flex flex-col items-center w-full gap-y-4",style:{fontSize:"16px",marginBottom:"22px"},children:[(0,l.jsx)("p",{className:i().title_buttons,style:{color:a.text_color},children:"ارتباط سریع و آسان"}),(0,l.jsx)("div",{className:"flex w-full flex-row",children:(0,l.jsxs)("button",{onClick:()=>window.location.href=a.telegram_link,className:"flex relative justify-center items-center w-full no-underline cursor-pointer text-center",style:{minHeight:"48px",background:a.button_color||"#8b2a3d",borderRadius:"".concat(a.border_number,"px")||0,gap:"6px"},children:[(0,l.jsx)("p",{className:i().icon_button,style:{color:a.text_color,fontSize:"20px",color:"#363636",width:"24px",height:"24px",position:"absolute",left:"20px"}}),(0,l.jsx)("span",{className:"text-center ".concat(i().text_button),style:{color:a.text_color},children:"تلگرام"})]})}),(0,l.jsx)("div",{className:"flex w-full flex-row",children:(0,l.jsxs)("button",{onClick:()=>window.location.href="tel:".concat(a.phone_number),className:"flex relative justify-center items-center w-full no-underline cursor-pointer text-center",style:{minHeight:"48px",background:a.button_color||"#8b2a3d",borderRadius:"".concat(a.border_number,"px")||0,gap:"6px"},children:[(0,l.jsx)("p",{className:i().icon_button,style:{fontSize:"20px",color:"#363636",width:"24px",height:"24px",left:"20px"}}),(0,l.jsx)("span",{className:"text-center ".concat(i().text_button),style:{color:a.text_color},children:"تماس"})]})}),(0,l.jsx)("div",{className:"flex w-full flex-row",children:(0,l.jsxs)("button",{onClick:()=>window.location.href=a.whatsapp,className:"flex relative justify-center items-center w-full no-underline cursor-pointer text-center",style:{minHeight:"48px",background:a.button_color||"#8b2a3d",borderRadius:"".concat(a.border_number,"px")||0,gap:"6px"},children:[(0,l.jsx)("p",{className:i().icon_button,style:{fontSize:"20px",color:"#363636",width:"24px",height:"24px",left:"20px"}}),(0,l.jsx)("span",{className:"text-center ".concat(i().text_button),style:{color:a.text_color},children:"واتس‌اپ"})]})}),a.instagram&&(0,l.jsx)("div",{className:"flex w-full flex-row",children:(0,l.jsxs)("button",{onClick:()=>window.location.href=a.instagram,className:"flex relative justify-center items-center w-full no-underline cursor-pointer text-center",style:{minHeight:"48px",background:a.button_color||"#8b2a3d",borderRadius:"".concat(a.border_number,"px")||0,gap:"6px"},children:[(0,l.jsx)("p",{className:i().icon_button,style:{fontSize:"20px",color:"#363636",width:"24px",height:"24px",left:"20px"}}),(0,l.jsx)("span",{className:"text-center ".concat(i().text_button),style:{color:a.text_color},children:"اینستاگرام"})]})})]}),(0,l.jsxs)("div",{className:"flex flex-col items-center w-full gap-y-4",style:{fontSize:"16px",marginBottom:"22px"},children:[(0,l.jsx)("p",{className:i().title_buttons,style:{color:a.text_color},children:"لینک ها"}),(0,l.jsx)("div",{className:"flex w-full flex-row",children:(0,l.jsxs)("button",{onClick:()=>window.location.href=a.custom_url,className:"flex relative justify-center items-center w-full no-underline cursor-pointer text-center",style:{minHeight:"48px",background:a.button_color||"#8b2a3d",borderRadius:"".concat(a.border_number,"px")||0,padding:"0px 10px",gap:"6px"},children:[(0,l.jsx)("p",{className:i().icon_button,style:{fontSize:"20px",color:"#363636",width:"24px",height:"24px",left:"20px"}}),(0,l.jsx)("p",{className:"text-center ".concat(i().text_button),style:{color:a.text_color},children:"لینک سفارشی"})]})}),a.website&&(0,l.jsx)("div",{className:"flex w-full flex-row",children:(0,l.jsxs)("button",{onClick:()=>window.location.href=a.website,className:"flex relative justify-center items-center w-full no-underline cursor-pointer text-center",style:{minHeight:"48px",background:a.button_color||"#8b2a3d",borderRadius:"".concat(a.border_number,"px")||0,padding:"0px 10px",gap:"6px"},children:[(0,l.jsx)("p",{className:i().icon_button,style:{fontSize:"20px",color:"#363636",width:"24px",height:"24px",left:"20px"}}),(0,l.jsx)("p",{className:"text-center ".concat(i().text_button),style:{color:a.text_color},children:"وب سایت"})]})})]})]})})]})})}):(0,l.jsx)("p",{children:"No business card found."})}):null}},5734:function(e){e.exports={img_top_card:"CardLayout_img_top_card__KWL0u",img_logo_card:"CardLayout_img_logo_card__Jl3vo",title_card:"CardLayout_title_card__22EMH",iphone_mockup:"CardLayout_iphone_mockup__Obc0S",screen:"CardLayout_screen__TpbqO",cardContainer:"CardLayout_cardContainer__iHeAT"}}}]);